import{a as b}from"./chunk-LRG2ALBG.js";import"./chunk-P6OXOXUO.js";import{B as N,k as A}from"./chunk-QTROLIRN.js";import{b as F,f as E,h as D,l as B}from"./chunk-JCYDLHOV.js";import"./chunk-BNSYELAG.js";import{e as y,f as S,i as I,q as z}from"./chunk-E4KDVWXH.js";import{$a as P,Jb as c,Kb as v,Lb as M,Nb as k,Ob as O,Pa as d,Pb as w,Ua as l,fb as u,lb as m,ma as x,na as _,oa as C,qb as n,rb as r,sb as g,tb as h,yb as p,zb as f}from"./chunk-FLW74USA.js";function T(i,e){if(i&1){let t=h();n(0,"div",9)(1,"div",10)(2,"h3"),c(3),r(),n(4,"p"),c(5),r()(),n(6,"button",11),p("click",function(){let a=x(t).$implicit,s=f(2);return _(s.abrirDialogoEditar(a))}),C(),n(7,"svg",12),g(8,"path",13)(9,"path",14),r()()()}if(i&2){let t=e.$implicit;d(3),v(t.nombre),d(2),M("Precio: ",t.precio,"\u20AC")}}function j(i,e){if(i&1&&(n(0,"div",7),u(1,T,10,2,"div",8),r()),i&2){let t=f();d(),m("ngForOf",t.productosFiltrados)}}var R=class i{constructor(e,t,o){this.productosService=e;this.dialog=t;this.router=o}productos=[];productosFiltrados=[];terminoBusqueda="";productoSeleccionado=null;ngOnInit(){this.getProductos()}irAInicio(){this.router.navigate([""])}getProductos(){this.productosService.getProductos().subscribe(e=>{this.productos=e,this.productosFiltrados=[...this.productos],this.productosFiltrados.sort((t,o)=>t.nombre.localeCompare(o.nombre,"es",{sensitivity:"base",numeric:!0,ignorePunctuation:!0}))})}filtrarProductos(){let e=this.terminoBusqueda.toLowerCase().trim();e===""?this.productosFiltrados=[...this.productos]:this.productosFiltrados=this.productos.filter(t=>t.nombre.toLowerCase().includes(e)),this.productosFiltrados.sort((t,o)=>t.nombre.localeCompare(o.nombre,"es",{sensitivity:"base",numeric:!0,ignorePunctuation:!0}))}abrirDialogoEditar(e){this.dialog.open(b,{data:{producto:e,modo:"EditarProductoLista"}}).afterClosed().subscribe(o=>{})}abrirDialogoAdd(){this.dialog.open(b,{data:{producto:null,modo:"AddProductoLista"}}).afterClosed().subscribe(t=>{})}static \u0275fac=function(t){return new(t||i)(l(N),l(A),l(z))};static \u0275cmp=P({type:i,selectors:[["productos-component"]],decls:13,vars:2,consts:[[1,"productos"],[1,"capa"],[1,"app-nombre",3,"click"],[1,"contenido"],["type","text","placeholder","Buscar producto por nombre",1,"buscador-productos",3,"ngModelChange","input","ngModel"],[1,"add-button",3,"click"],["class","productos-lista",4,"ngIf"],[1,"productos-lista"],["class","producto-card",4,"ngFor","ngForOf"],[1,"producto-card"],[1,"info"],["aria-label","Editar",1,"editar-btn",3,"click"],["width","20","height","20","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","viewBox","0 0 24 24"],["d","M12 20h9"],["d","M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"]],template:function(t,o){t&1&&(n(0,"div",0),g(1,"div",1),n(2,"div",2),p("click",function(){return o.irAInicio()}),n(3,"span"),c(4,"Gestionart"),r()(),n(5,"div",3)(6,"h1"),c(7,"Lista de productos"),r(),n(8,"div")(9,"input",4),w("ngModelChange",function(s){return O(o.terminoBusqueda,s)||(o.terminoBusqueda=s),s}),p("input",function(){return o.filtrarProductos()}),r()(),n(10,"button",5),p("click",function(){return o.abrirDialogoAdd()}),c(11,"+ Productos"),r(),u(12,j,2,1,"div",6),r()()),t&2&&(d(9),k("ngModel",o.terminoBusqueda),d(3),m("ngIf",o.productosFiltrados))},dependencies:[B,F,E,D,I,y,S],styles:['.productos[_ngcontent-%COMP%]{position:relative;min-height:100vh;padding:24px 16px;display:flex;flex-direction:column;background-image:url("./media/f-MHIBCXNN.jpg");background-size:cover;background-position:center;background-repeat:no-repeat;background-attachment:fixed;color:#fff;text-align:center;justify-content:flex-start;align-items:center;box-shadow:0 4px 8px #0003}.add-button[_ngcontent-%COMP%]{padding:6px 12px;font-size:14px;background-color:#ffffffda;border:none;width:80%;-webkit-backdrop-filter:blur(300px);backdrop-filter:blur(300px);margin-top:10px;border-radius:6px;color:#000;font-weight:700;cursor:pointer;transition:background-color .3s ease}.add-button[_ngcontent-%COMP%]:hover{background-color:#f0e0c9}.productos-lista[_ngcontent-%COMP%]{width:100%;padding:16px}.producto-card[_ngcontent-%COMP%]{display:flex;align-items:center;background:linear-gradient(135deg,#82a3b9fc,#d3bfac);border-radius:12px;padding:16px;margin-bottom:12px;box-shadow:0 2px 4px #0000001a}.producto-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border:1px solid #ccc;padding:1rem;margin:.5rem 0;border-radius:8px}.editar-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.2rem;cursor:pointer}.modal[_ngcontent-%COMP%]{background-color:#00000080;position:fixed;inset:0;z-index:1050}.producto-card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{flex-grow:1}.sin-stock[_ngcontent-%COMP%]{border:2px solid red}.out-stock[_ngcontent-%COMP%]{color:red!important;font-weight:bolder!important;font-size:17px!important}.vendido-cruz[_ngcontent-%COMP%]{color:red;font-size:20px}.producto-card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:20px;font-weight:600;color:#222}.producto-card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0;font-size:16px;color:#555}.vender-button[_ngcontent-%COMP%]{flex-shrink:0;padding:6px 10px;font-size:13px;background:linear-gradient(135deg,#c9da5d,#59b58f);color:#000;border:none;border-radius:5px;font-weight:700;cursor:pointer;margin-left:12px;transition:background-color .3s ease}.vender-button[_ngcontent-%COMP%]:hover{background-color:#388e3c}.contenido[_ngcontent-%COMP%]{margin-top:35px}.buscador-productos[_ngcontent-%COMP%]{width:100%;padding:.5rem .9rem;font-size:1.1rem;border:none;border-bottom:2px solid #ffa200;outline:none;transition:border-color .3s;font-family:Outfit,sans-serif;background:#ffffffb0;border-radius:5px}.buscador-productos[_ngcontent-%COMP%]::placeholder{color:#000;opacity:1}.app-nombre[_ngcontent-%COMP%]{position:absolute;top:16px;left:24px;font-size:17px;font-weight:600;color:#fff;cursor:pointer;z-index:10;text-transform:uppercase;letter-spacing:.5px;text-shadow:1px 1px 2px rgba(0,0,0,.3);transition:transform .2s ease,color .2s ease}.app-nombre[_ngcontent-%COMP%]:hover{transform:scale(1.05);color:#fff}']})};export{R as ProductosComponent};
