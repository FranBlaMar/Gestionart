import{a as ne,c as re,f as ae}from"./chunk-P6OXOXUO.js";import{A as se,B as le,C as ce,c as H,f as I,g as K,h as _,i as q,j as Q,k as U,l as X,m as Z,n as $,o as J,p as ee,s as te,t as ie,u as oe,y as O}from"./chunk-QTROLIRN.js";import{b as B,f as G,h as z,i as Y,l as j}from"./chunk-JCYDLHOV.js";import{f as N,i as W}from"./chunk-E4KDVWXH.js";import{$ as g,$a as E,Db as D,Eb as T,Fb as P,Jb as a,Nb as C,Ob as w,Pa as l,Pb as x,Ua as y,Vb as V,ab as v,ba as L,ea as F,fb as b,lb as u,ma as p,na as m,oa as S,qb as o,rb as n,sb as k,tb as h,yb as f,zb as s}from"./chunk-FLW74USA.js";var de=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=v({type:t});static \u0275inj=g({imports:[_]})}return t})();var M=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=v({type:t});static \u0275inj=g({imports:[te,_,de]})}return t})();var pe=new L("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let t=F(I);return()=>t.scrollStrategies.reposition()}});function me(t){return()=>t.scrollStrategies.reposition()}var ue={provide:pe,deps:[I],useFactory:me};var R=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=v({type:t});static \u0275inj=g({providers:[ue],imports:[K,M,_,H,O,M,_]})}return t})();var fe=["confirmacionBorrado"];function _e(t,d){if(t&1){let e=h();o(0,"h2"),a(1," Editar producto "),o(2,"button",13),f("click",function(){p(e);let i=s(2);return m(i.borrarProducto())}),S(),o(3,"svg",14),k(4,"polyline",15)(5,"path",16)(6,"path",17)(7,"path",18)(8,"path",19),n()()()}}function ge(t,d){t&1&&(o(0,"h2"),a(1,"A\xF1adir producto"),n())}function ye(t,d){if(t&1){let e=h();o(0,"div",6)(1,"label"),a(2,"Stock:"),n(),o(3,"input",8),x("ngModelChange",function(i){p(e);let c=s(2);return w(c.productoEditar.stock,i)||(c.productoEditar.stock=i),m(i)}),n()()}if(t&2){let e=s(2);l(3),C("ngModel",e.productoEditar.stock)}}function ve(t,d){if(t&1){let e=h();o(0,"div",6)(1,"label"),a(2,"Vendidos:"),n(),o(3,"input",8),x("ngModelChange",function(i){p(e);let c=s(2);return w(c.productoEditar.vendidos,i)||(c.productoEditar.vendidos=i),m(i)}),n()()}if(t&2){let e=s(2);l(3),C("ngModel",e.productoEditar.vendidos)}}function be(t,d){if(t&1){let e=h();o(0,"button",20),f("click",function(){p(e);let i=s(2);return m(i.guardarProductoEditado())}),a(1,"Guardar"),n()}}function Me(t,d){if(t&1){let e=h();o(0,"button",20),f("click",function(){p(e);let i=s(2);return m(i.guardarProductoNuevo())}),a(1,"Guardar"),n()}}function Ce(t,d){if(t&1){let e=h();o(0,"div",3)(1,"div",4),b(2,_e,9,0,"h2",5)(3,ge,2,0,"h2",5),o(4,"div",6)(5,"label"),a(6,"Nombre:"),n(),o(7,"input",7),x("ngModelChange",function(i){p(e);let c=s();return w(c.productoEditar.nombre,i)||(c.productoEditar.nombre=i),m(i)}),n()(),o(8,"div",6)(9,"label"),a(10,"Precio (\u20AC):"),n(),o(11,"input",8),x("ngModelChange",function(i){p(e);let c=s();return w(c.productoEditar.precio,i)||(c.productoEditar.precio=i),m(i)}),n()(),b(12,ye,4,1,"div",9)(13,ve,4,1,"div",9),o(14,"div",10)(15,"button",11),f("click",function(){p(e);let i=s();return m(i.cerrar())}),a(16,"Cancelar"),n(),b(17,be,2,0,"button",12)(18,Me,2,0,"button",12),n()()()}if(t&2){let e=s();l(2),u("ngIf",e.modo=="EditarProductoLista"||e.modo=="EditarProductoEvento"),l(),u("ngIf",e.modo=="AddProductoLista"),l(4),C("ngModel",e.productoEditar.nombre),l(4),C("ngModel",e.productoEditar.precio),l(),u("ngIf",e.modo=="EditarProductoEvento"),l(),u("ngIf",e.modo=="EditarProductoEvento"),l(4),u("ngIf",e.modo=="EditarProductoLista"||e.modo=="EditarProductoEvento"),l(),u("ngIf",e.modo=="AddProductoLista")}}function we(t,d){if(t&1){let e=h();o(0,"div",21)(1,"h2",22),a(2,"\xBFConfirmar borrado?"),n(),o(3,"mat-dialog-content"),a(4," \xBFEst\xE1s seguro de que quieres borrar este producto? "),n(),o(5,"mat-dialog-actions",23)(6,"button",24),a(7,"Cancelar"),n(),o(8,"button",25),f("click",function(){p(e);let i=s();return m(i.confirmarBorrado())}),a(9,"Borrar"),n()()()}}var he=class t{constructor(d,e,r,i,c){this.data=d;this.dialogRef=e;this.productosService=r;this.dialog=i;this.snackBar=c}productoEditar;modo;columnasTabla=["seleccionar","nombre","cantidad","muestra"];confirmacionBorradoTemplate;ngOnInit(){this.productoEditar=this.data.producto,this.modo=this.data.modo,this.modo=="AddProductoLista"?this.productoEditar={nombre:"",precio:0}:this.modo=="EditarProductoEvento"&&(this.productoEditar=this.data.producto)}guardarProductoEditado(){this.modo=="EditarProductoLista"?(this.productosService.updateProducto(this.productoEditar),this.snackBar.open("\u2713 Producto editado","",{duration:2500,panelClass:["success-snackbar"],horizontalPosition:"center",verticalPosition:"top"})):this.modo=="EditarProductoEvento"&&(this.productosService.updateProductoEvento(this.productoEditar),this.snackBar.open("\u2713 Producto editado","",{duration:2500,panelClass:["success-snackbar"],horizontalPosition:"center",verticalPosition:"top"})),this.dialogRef.close()}borrarProducto(){this.dialog.open(this.confirmacionBorradoTemplate)}confirmarBorrado(){this.modo=="EditarProductoLista"?this.productoEditar.id&&(this.productosService.deleteProducto(this.productoEditar.id),this.snackBar.open("\u2713 Producto eliminado","",{duration:2500,panelClass:["success-snackbar"],horizontalPosition:"center",verticalPosition:"top"})):this.modo=="EditarProductoEvento"&&this.productoEditar.id&&(this.productosService.deleteProductoEvento(this.productoEditar.id),this.snackBar.open("\u2713 Producto eliminado","",{duration:2500,panelClass:["success-snackbar"],horizontalPosition:"center",verticalPosition:"top"})),this.dialogRef.close(),this.dialog.closeAll()}guardarProductoNuevo(){this.productosService.addProducto(this.productoEditar),this.snackBar.open("\u2713 Producto a\xF1adido","",{duration:2500,panelClass:["success-snackbar"],horizontalPosition:"center",verticalPosition:"top"}),this.dialogRef.close()}cerrar(){this.dialogRef.close()}static \u0275fac=function(e){return new(e||t)(y(Q),y(q),y(le),y(U),y(ce))};static \u0275cmp=E({type:t,selectors:[["pop-up-component"]],viewQuery:function(e,r){if(e&1&&D(fe,5),e&2){let i;T(i=P())&&(r.confirmacionBorradoTemplate=i.first)}},decls:4,vars:1,consts:[["confirmacionBorrado",""],[1,"modal-backdrop"],["class","modal-container",4,"ngIf"],[1,"modal-container"],[1,"modal-content"],[4,"ngIf"],[1,"form-group"],["type","text",3,"ngModelChange","ngModel"],["type","number",3,"ngModelChange","ngModel"],["class","form-group",4,"ngIf"],[1,"actions"],[1,"btn","cancel",3,"click"],["class","btn save",3,"click",4,"ngIf"],["title","Borrar producto",1,"icon-button",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","viewBox","0 0 24 24"],["points","3 6 5 6 21 6"],["d","M19 6l-1 14a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2L5 6"],["d","M10 11v6"],["d","M14 11v6"],["d","M9 6V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2"],[1,"btn","save",3,"click"],[1,"dialog-outfit-font"],["mat-dialog-title",""],["align","end"],["mat-button","","mat-dialog-close",""],["mat-button","","color","warn",3,"click"]],template:function(e,r){e&1&&(o(0,"div",1),b(1,Ce,19,8,"div",2)(2,we,10,0,"ng-template",null,0,V),n()),e&2&&(l(),u("ngIf",r.modo!="AddProductoEvento"))},dependencies:[j,B,Y,G,z,W,N,ee,X,Z,J,$,oe,ie,M,O,R,se,ne,re,ae],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#0006;-webkit-backdrop-filter:blur(30px);backdrop-filter:blur(30px);display:flex;align-items:center;justify-content:center;z-index:1000}.select-container[_ngcontent-%COMP%]{background:#fcfcfcce;border-radius:16px;box-shadow:0 8px 32px #0003;padding:24px 32px;width:90%;max-width:400px;height:100vh;animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.modal-container[_ngcontent-%COMP%]{background:#fcfcfcce;border-radius:16px;box-shadow:0 8px 32px #0003;padding:24px 32px;width:90%;max-width:400px;animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:16px;font-size:20px;color:#333}.form-group[_ngcontent-%COMP%]{margin-bottom:12px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-weight:600;color:#444}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ccc;border-radius:5px;font-size:14px;transition:border .2s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#000;outline:none}.actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:16px}.btn[_ngcontent-%COMP%]{padding:10px 18px;font-size:14px;border-radius:8px;cursor:pointer;transition:background .2s ease}.btn.cancel[_ngcontent-%COMP%]{background-color:#f2f2f2;color:#333;border:1px solid #ccc}.btn.cancel[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.btn.save[_ngcontent-%COMP%]{background-color:#637b45;color:#fff;border:none}.icon-button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;margin-left:90px;padding:0;color:#c62828;transition:transform .2s ease}.icon-button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.dialog-outfit-font[_ngcontent-%COMP%]{font-family:Outfit,sans-serif!important}.btn.save[_ngcontent-%COMP%]:hover{background-color:#71a136}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:scale(.96)}to{opacity:1;transform:scale(1)}}.mat-mdc-snack-bar-container.success-snackbar[_ngcontent-%COMP%]{--mdc-snackbar-container-color: #4caf50 !important}.mat-mdc-snack-bar-container.success-snackbar[_ngcontent-%COMP%]   .mdc-snackbar__label[_ngcontent-%COMP%], .mat-mdc-snack-bar-container.success-snackbar[_ngcontent-%COMP%]   .mat-mdc-button[_ngcontent-%COMP%]{color:#fff!important}"]})};export{he as a};
