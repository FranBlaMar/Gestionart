import{a as B}from"./chunk-DXEAHCV2.js";import{b as z,f as D,h as W,l as j}from"./chunk-JCYDLHOV.js";import"./chunk-BNSYELAG.js";import{d as P,e as S,f as N,h as I,i as V,o as T,q as F}from"./chunk-E4KDVWXH.js";import{$a as M,Jb as m,Kb as C,Nb as _,Ob as b,Pa as c,Pb as x,Sb as y,Tb as k,Ua as u,Ub as O,fb as h,lb as v,ma as d,na as p,oa as E,qb as o,rb as r,sb as w,tb as g,yb as f,zb as l}from"./chunk-FLW74USA.js";var A=i=>({"input-error":i});function R(i,t){if(i&1){let e=g();o(0,"div",4)(1,"h1",5),m(2,"Nuevo evento"),r(),o(3,"input",6),x("ngModelChange",function(n){d(e);let s=l();return b(s.nombreEvento,n)||(s.nombreEvento=n),p(n)}),r(),o(4,"input",7),x("ngModelChange",function(n){d(e);let s=l();return b(s.fechaEvento,n)||(s.fechaEvento=n),p(n)}),r(),o(5,"button",8),f("click",function(){d(e);let n=l();return p(n.crearEvento())}),m(6,"Crear"),r()()}if(i&2){let e=l();c(3),v("ngClass",y(4,A,e.comprobarNombre())),_("ngModel",e.nombreEvento),c(),_("ngModel",e.fechaEvento),c(),v("disabled",e.comprobarNombre())}}function G(i,t){if(i&1){let e=g();o(0,"div",16),f("click",function(){let n=d(e).$implicit,s=l(2);return p(s.detalleEvento(n))}),o(1,"div",17)(2,"p"),m(3),r(),o(4,"p"),m(5),k(6,"date"),r()(),o(7,"button",18),f("click",function(n){let s=d(e).$implicit;return l(2).editarEvento(s),p(n.stopPropagation())}),E(),o(8,"svg",19),w(9,"path",20)(10,"path",21),r()()()}if(i&2){let e=t.$implicit;c(3),C(e.nombre),c(2),C(O(6,2,e.fecha,"mediumDate"))}}function H(i,t){i&1&&(o(0,"div",17),m(1," No se han encontrado eventos"),r())}function X(i,t){if(i&1){let e=g();o(0,"div",9)(1,"h1",10),m(2,"Lista de eventos"),r(),o(3,"div",11)(4,"input",12),x("ngModelChange",function(n){d(e);let s=l();return b(s.filtroNombre,n)||(s.filtroNombre=n),p(n)}),f("input",function(){d(e);let n=l();return p(n.filtrarEventos())}),r()(),o(5,"div",13),h(6,G,11,5,"div",14)(7,H,2,0,"div",15),r()()}if(i&2){let e=l();c(4),_("ngModel",e.filtroNombre),c(2),v("ngForOf",e.eventosFiltrados),c(),v("ngIf",e.eventosFiltrados.length===0)}}var L=class i{constructor(t,e,a){this.eventoService=t;this.route=e;this.router=a}nombreEvento="";fechaEvento;modo="";eventos=[];filtroNombre="";eventosFiltrados=[];ngOnInit(){this.route.paramMap.subscribe(t=>{this.modo=t.get("modo")||"",this.modo==="lista"&&this.obtenerEventos()})}irAInicio(){this.router.navigate([""])}comprobarNombre(){return!this.nombreEvento||this.nombreEvento.trim()===""}obtenerEventos(){this.eventoService.getEventos().subscribe(t=>{this.eventos=t.sort((e,a)=>new Date(a.fecha).getTime()-new Date(e.fecha).getTime()),this.filtrarEventos()})}crearEvento(){let t={nombre:this.nombreEvento,dineroTotal:0,fecha:this.fechaEvento};this.eventoService.addEvento(t),this.router.navigate(["eventos/lista"])}filtrarEventos(){let t=this.filtroNombre.toLowerCase().trim();t===""?this.eventosFiltrados=this.eventos.slice(0,5):this.eventosFiltrados=this.eventos.filter(e=>e.nombre.toLowerCase().includes(t))}detalleEvento(t){console.log(t),this.router.navigate([`eventos/detalle/${t.id}`])}editarEvento(t){console.log(t),this.router.navigate([`eventos/editar/${t.id}`])}static \u0275fac=function(e){return new(e||i)(u(B),u(T),u(F))};static \u0275cmp=M({type:i,selectors:[["evento-component"]],decls:6,vars:2,consts:[[1,"eventos-container"],[1,"app-nombre",3,"click"],["class","nuevo-evento",4,"ngIf"],["class","lista-eventos",4,"ngIf"],[1,"nuevo-evento"],[1,"titulo-nuevo"],["type","text","id","nombreEvento","placeholder","Nombre del nuevo evento",3,"ngModelChange","ngClass","ngModel"],["type","date","id","fechaEvento","placeholder","Fecha del nuevo evento",3,"ngModelChange","ngModel"],["id","crearEvento",3,"click","disabled"],[1,"lista-eventos"],[1,"titulo"],[1,"buscador-container"],["type","text","placeholder","Buscar evento por nombre...",1,"input-buscador",3,"ngModelChange","input","ngModel"],[1,"lista-evento"],["class","evento-detail",3,"click",4,"ngFor","ngForOf"],["class","evento-nombre",4,"ngIf"],[1,"evento-detail",3,"click"],[1,"evento-nombre"],["aria-label","Editar",1,"editar-btn",3,"click"],["width","20","height","20","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","viewBox","0 0 24 24"],["d","M12 20h9"],["d","M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"]],template:function(e,a){e&1&&(o(0,"div",0)(1,"div",1),f("click",function(){return a.irAInicio()}),o(2,"span"),m(3,"Gestionart"),r()(),h(4,R,7,6,"div",2)(5,X,8,3,"div",3),r()),e&2&&(c(4),v("ngIf",a.modo=="nuevo"),c(),v("ngIf",a.modo=="lista"))},dependencies:[j,z,D,W,V,P,S,N,I],styles:['.eventos-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;background-image:url("./media/f-MHIBCXNN.jpg");background-size:cover;background-position:center;background-repeat:no-repeat;background-attachment:fixed;justify-content:center;align-items:center;color:#fff;text-align:center;border:none!important;outline:none!important;box-shadow:none!important}.productos[_ngcontent-%COMP%]{min-height:100vh;padding:24px 16px;display:flex;flex-direction:column;color:#fff;text-align:center;justify-content:flex-start;align-items:center;box-shadow:0 4px 8px #0003}.eventos-container[_ngcontent-%COMP%]{padding:2rem;font-family:Outfit,sans-serif}.nuevo-evento[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:2rem}.nuevo-evento[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#000;opacity:1}.nuevo-evento[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:.5rem 0;font-size:1.1rem;margin-bottom:40px;border:none;border-bottom:2px solid #000000;outline:none;transition:border-color .3s;font-family:Outfit,sans-serif;background:#ffffffcb;border-radius:5px}.app-nombre[_ngcontent-%COMP%]{position:absolute;top:16px;left:24px;font-size:17px;font-weight:600;color:#fff;cursor:pointer;z-index:10;text-transform:uppercase;letter-spacing:.5px;text-shadow:1px 1px 2px rgba(0,0,0,.3);transition:transform .2s ease,color .2s ease}.editar-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.2rem;cursor:pointer}.app-nombre[_ngcontent-%COMP%]:hover{transform:scale(1.05);color:#fff}.input-error[_ngcontent-%COMP%]{border-bottom:2px solid red!important}.nuevo-evento[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-bottom:2px solid #000000}.nuevo-evento[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.9rem 1.5rem;font-size:1rem;font-family:Outfit,sans-serif;font-weight:bolder;background-color:transparent;border:2px solid #ffffff;color:#fff;cursor:pointer;border-radius:.3rem;transition:all .3s;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.nuevo-evento[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{-webkit-backdrop-filter:blur(100px);backdrop-filter:blur(100px);color:#000}.titulo-nuevo[_ngcontent-%COMP%]{margin-bottom:35px}.titulo[_ngcontent-%COMP%]{margin-top:50px;margin-bottom:35px}.buscador-container[_ngcontent-%COMP%]{width:100%;margin-bottom:30px}.input-buscador[_ngcontent-%COMP%]{width:100%;padding:.5rem 0;font-size:1.1rem;border:none;border-bottom:2px solid #000000;outline:none;transition:border-color .3s;font-family:Outfit,sans-serif;background:#ffffffb0;border-radius:5px}.input-buscador[_ngcontent-%COMP%]::placeholder{color:#000;opacity:1}.lista-evento[_ngcontent-%COMP%]{display:flex;flex-direction:column;background:#fff0;padding:1rem;border-radius:12px;-webkit-backdrop-filter:blur(80px);backdrop-filter:blur(80px);box-shadow:0 4px 8px #0003}.evento-detail[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:4px;padding:.5rem;margin-bottom:1rem;background:#ffffff97;border-radius:8px;width:100%;color:#000;font-family:Outfit,sans-serif;transition:background .3s}.evento-detail[_ngcontent-%COMP%]:hover{background:#ffffff26}.evento-nombre[_ngcontent-%COMP%], .evento-fecha[_ngcontent-%COMP%]{margin-left:5px;font-size:1rem}']})};export{L as EventoComponent};
